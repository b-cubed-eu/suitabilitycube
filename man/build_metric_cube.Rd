% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_metric_cube.R
\name{build_metric_cube}
\alias{build_metric_cube}
\title{Build a metric cube (AOA or DI) for present and future}
\usage{
build_metric_cube(
  aoa_di_by_species,
  species_vec,
  grid_cells,
  metric = c("AOA", "DI"),
  fun = mean
)
}
\arguments{
\item{aoa_di_by_species}{Named list by species. Each element must have
`$present` and `$future`, with sub-elements "AOA" and/or "DI" (as in CAST::aoa output).}

\item{species_vec}{Character vector of species names to include (order matters).}

\item{grid_cells}{sf polygon grid (from make_country_grid()).}

\item{metric}{One of "AOA" or "DI".}

\item{fun}{Aggregation function used for DI (mean by default). AOA uses mode automatically.}
}
\value{
A stars object with one attribute named as `metric`.
}
\description{
Aggregates AOA/DI rasters to a grid per species and stacks them into a stars cube
with dimensions: cell × taxon × time.
}
